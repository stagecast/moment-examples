(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={app:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"2a73":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-component",style:{backgroundImage:!(!t.data||!t.data.backgroundImage)&&"url("+t.data.backgroundImage+")"},attrs:{id:"app"}},[t.data&&!t.loading?s("div",{staticClass:"inner"},[s("intro-box",{ref:"introBox",attrs:{data:t.data,won:t.won}}),t._l(t.data.quests,(function(e,i){return s("quest",{key:e.name,attrs:{quest:e},on:{"correct-input":function(e){return t.markQuestAsCorrect(i,e)}}})}))],2):t._e(),t.settings&&t.settings.hasSponsors?s("div",{staticClass:"sponsor-banner"},[s("p",[t._v(t._s(t.settings.credit))]),s("div",{staticClass:"logo-container"},t._l(t.settings.logos,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:e}})})),0)]):t._e()])},n=[],r=(s("4de4"),s("4160"),s("d81d"),s("b0c0"),s("d3b7"),s("ac1f"),s("1276"),s("498a"),s("159b"),s("4795"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"intro-box",class:{won:t.won}},[s("div",{staticClass:"intro-text"},[t._v(t._s(t.won?t.$t("Congratulations! You have won a prize."):t.$t("Complete all quests and win a prize!")))]),s("button",{staticClass:"prize-button",on:{click:t.showPrize}},[s("svg",{attrs:{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M20.2714 5.34488V1.67887H15.8506V0H4.42078V1.67887H0V5.34488C0 8.02789 2.14294 10.215 4.80648 10.2974C5.49736 12.0867 7.06033 13.4507 8.97147 13.8504V15.6323C7.45909 16.0791 6.30414 17.3703 6.05215 18.9547H4.50201V21.3748H15.7696V18.9544H14.2195C13.9675 17.3703 12.8125 16.0791 11.3001 15.6321V13.8501C13.2113 13.4504 14.7745 12.0865 15.4651 10.2972C18.1287 10.2152 20.2714 8.02789 20.2714 5.34488ZM11.2959 4.99267L13.2642 5.57288L12.0129 7.19927L12.039 8.14831L12.0694 9.25077L10.1357 8.56321L8.20222 9.25077L8.23262 8.14831L8.25874 7.19927L7.00737 5.57288L8.97575 4.99267L9.76875 3.83559L10.1357 3.30003L10.5029 3.83582L11.2959 4.99267ZM2.15648 5.34488V3.83559H4.42102V8.09511C3.13212 7.84312 2.15648 6.70646 2.15648 5.34488ZM18.1149 5.34488C18.1149 6.70646 17.139 7.84288 15.8506 8.09511V3.83559H18.1149V5.34488Z",fill:"white"}})]),s("span",[t._v(t._s(t.won?t.$t("Claim prize"):t.$t("Prize")))])]),s("popup-overlay",{ref:"prizeOverlay",staticClass:"prize-overlay"},[t.won?s("div",{staticClass:"win-info"},[t._v(" "+t._s(t.$t("Congratulations! You have won a prize."))+" ")]):t._e(),s("div",{staticClass:"prize-infos"},[t.data.prizeImage?s("div",{staticClass:"prize-image"},[s("img",{attrs:{src:t.data.prizeImage,alt:""}})]):t._e(),t.data.prizeDescriptionHeadline?s("div",{staticClass:"prize-headline"},[t._v(" "+t._s(t.data.prizeDescriptionHeadline)+" ")]):t._e(),t.data.prizeDescriptionText?s("div",{staticClass:"prize-text"},[t._v(" "+t._s(t.data.prizeDescriptionText)+" ")]):t._e()]),t.won?s("div",{staticClass:"claim-prize-overlay"},[s("a",{staticClass:"claim-prize-button",attrs:{href:t.data.claimButtonLink,target:"_blank"}},[s("svg",{staticClass:"icon icon-left",attrs:{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M20.579 5.34488V1.67887H16.1582V0H4.7284V1.67887H0.307617V5.34488C0.307617 8.02789 2.45056 10.215 5.11409 10.2974C5.80498 12.0867 7.36795 13.4507 9.27909 13.8504V15.6323C7.76671 16.0791 6.61175 17.3703 6.35977 18.9547H4.80962V21.3748H16.0772V18.9544H14.5271C14.2751 17.3703 13.1201 16.0791 11.6078 15.6321V13.8501C13.5189 13.4504 15.0821 12.0865 15.7728 10.2972C18.4363 10.2152 20.579 8.02789 20.579 5.34488ZM11.6035 4.99267L13.5719 5.57288L12.3205 7.19927L12.3466 8.14831L12.377 9.25077L10.4433 8.56321L8.50984 9.25077L8.54024 8.14831L8.56636 7.19927L7.31498 5.57288L9.28337 4.99267L10.0764 3.83559L10.4433 3.30003L10.8105 3.83582L11.6035 4.99267ZM2.4641 5.34488V3.83559H4.72864V8.09511C3.43974 7.84312 2.4641 6.70646 2.4641 5.34488ZM18.4225 5.34488C18.4225 6.70646 17.4466 7.84288 16.1582 8.09511V3.83559H18.4225V5.34488Z",fill:"url(#paint0_linear)"}}),s("defs",[s("linearGradient",{attrs:{id:"paint0_linear",x1:"0.307617",y1:"10.6874",x2:"20.579",y2:"10.6874",gradientUnits:"userSpaceOnUse"}},[s("stop",{attrs:{"stop-color":"#EEC868"}}),s("stop",{attrs:{offset:"1","stop-color":"#E49358"}})],1)],1)]),t._v(" "+t._s(t.$t("Claim prize"))+" "),s("svg",{staticClass:"icon icon-right",attrs:{width:"22",height:"21",viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M15.2678 19.1097H1.96743V5.78748H10.6378L12.2757 4.14951H1.13752C0.678891 4.14951 0.307617 4.52078 0.307617 4.97941V19.9396C0.307617 20.3982 0.678891 20.7695 1.13752 20.7695H16.0758C16.5345 20.7695 16.9057 20.3982 16.9057 19.9396V8.80135L15.2678 10.4393V19.1097Z",fill:"white"}}),s("path",{attrs:{d:"M20.2473 0H14.2851C13.8265 0 13.4552 0.371274 13.4552 0.829906C13.4552 1.28854 13.8265 1.65981 14.2851 1.65981H18.2599L9.85165 10.0681C9.52406 10.3957 9.52406 10.898 9.85165 11.2256C10.0045 11.3785 10.2229 11.4658 10.4413 11.4658C10.6597 11.4658 10.8563 11.3785 11.031 11.2256L19.4393 2.79547V6.77029C19.4393 7.22892 19.8105 7.60019 20.2692 7.60019C20.7278 7.60019 21.0991 7.22892 21.0991 6.77029V0.829906C21.0772 0.371274 20.706 0 20.2473 0Z",fill:"white"}})])])]):t._e()])],1)}),o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"popup-overlay"},[s("div",{staticClass:"popup-header"},[s("button",{staticClass:"close-button",on:{click:t.hide}},[s("svg",{staticClass:"svg-inline--fa fa-times fa-w-11",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"}},[s("path",{attrs:{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}})])])]),s("div",{staticClass:"popup-content"},[t._t("default")],2)])])},u=[],l={name:"PopupOverlay",data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1}}},d=l,p=(s("f1f5"),s("2877")),h=Object(p["a"])(d,c,u,!1,null,"1d893be0",null),f=h.exports,g={name:"IntroBox",components:{PopupOverlay:f},props:{data:{type:Object,required:!0},won:{type:Boolean,default:!1,required:!1}},methods:{showPrize:function(){this.$refs.prizeOverlay.show()}},i18n:{messages:{de:{"Claim prize":"Preis sichern",Prize:"Preis","Complete all quests and win a prize!":"Löse alle Quests und gewinne einen Preis!","Congratulations! You have won a prize.":"Gratuliere! Du hast einen Preis gewonnen."}}}},v=g,w=(s("c804"),Object(p["a"])(v,r,o,!1,null,null,null)),m=w.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quest",class:{"is-correct":t.quest.correct}},[s("div",{staticClass:"quest-button-wrapper"},[s("button",{staticClass:"quest-button",on:{click:t.showQuest}},[s("span",{staticClass:"quest-button-inner"},[s("span",{staticClass:"left"},[s("span",{staticClass:"text"},[t._v(t._s(t.quest.name))])]),s("span",{staticClass:"icon"},[s("svg",{staticClass:"svg-inline--fa fa-check fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}})])])])])]),s("popup-overlay",{ref:"questPopup"},[s("div",{staticClass:"quest-name"},[t._v(t._s(t.quest.name))]),s("div",{staticClass:"quest-question"},[t._v(t._s(t.quest.question))]),t.quest.image&&t.quest.image.length?s("a",{staticClass:"quest-image",attrs:{href:t.quest.imageLink,target:"_blank"}},[s("img",{attrs:{src:t.quest.image,alt:t.quest.name}})]):t._e(),s("div",{staticClass:"quest-input-group",class:{"is-invalid":!1===t.inputValid,"is-valid":!0===t.inputValid||t.quest.correct}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.quest.answer,expression:"quest.answer"}],staticClass:"quest-input",attrs:{disabled:t.quest.correct,type:"text",placeholder:t.$t("Type your answer")},domProps:{value:t.quest.answer},on:{input:[function(e){e.target.composing||t.$set(t.quest,"answer",e.target.value)},t.onAnswerChange]}}),s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Your answer is wrong. Try again!")))]),s("div",{staticClass:"valid-feedback"},[t._v(t._s(t.$t("Your answer is correct!")))])]),s("button",{directives:[{name:"show",rawName:"v-show",value:!t.quest.correct,expression:"!quest.correct"}],staticClass:"button-black quest-submit-button",on:{click:t.submitAnswer}},[t._v(t._s(t.$t("Confirm")))]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.quest.correct,expression:"quest.correct"}],staticClass:"button-black quest-close-button",on:{click:t.hideQuest}},[t._v(t._s(t.$t("Close")))])])],1)},b=[],q=s("9a8a"),_=s.n(q),z={name:"Quest",components:{PopupOverlay:f},data:function(){return{fs:void 0,inputValid:void 0}},props:{quest:{type:Object,required:!0,default:function(){return{name:"Quest",question:"",image:"",imageLink:"",answers:[]}}}},created:function(){this.fs=_()(this.quest.answers)},methods:{showQuest:function(){this.$refs.questPopup.show()},hideQuest:function(){this.$refs.questPopup.hide()},onAnswerChange:function(){this.inputValid=void 0},submitAnswer:function(){var t=this.fs.get(this.quest.answer,!1,.75);t?(this.quest.answer=t[0][1],this.inputValid=!0,this.$set(this.quest,"correct",!0),this.$emit("correct-input",this.quest.answer)):this.inputValid=!1}},i18n:{messages:{de:{"Type your answer":"Deine Antwort","Your answer is wrong. Try again!":"Deine Antwort ist falsch. Versuche es erneut!","Your answer is correct!":"Deine Antwort ist richtig!",Confirm:"Bestätigen",Close:"Schließen"}}}},L=z,y=(s("febe"),Object(p["a"])(L,C,b,!1,null,"a418962a",null)),x=y.exports,k={name:"App",components:{Quest:x,IntroBox:m},created:function(){this.$SDK.onConfigReceived(this.initialize)},data:function(){return{defaultData:{backgroundImage:void 0,prizeImage:"./img/default-prize.svg",prizeDescriptionHeadline:"You can win a prize",prizeDescriptionText:"This is a description about the prize that you can win. This is a description about the prize that you can win. This is a description about the prize that you can win. This is a description about the prize that you can win",quests:[],claimButtonLink:"https://www.stagecast.io"},data:void 0,settings:void 0,won:!1,loading:!0}},methods:{initialize:function(){var t=this;this.$SDK.connection.getMomentClass().then((function(e){t.$i18n.locale=e.language?e.language:"en",t.initSettings(e),t.initCustomData(e.custom),t.initUserState()["finally"]((function(){t.loading=!1,t.checkWin()}))}))["catch"]((function(t){console.error(t)}))},initSettings:function(t){var e=this,s=Object.assign({},t);this.settings={},s.showSponsor&&s.sponsor&&s.sponsor.logos&&s.sponsor.logos.length>0&&(this.settings.hasSponsors=!0,this.settings.logos=s.sponsor.logos.map((function(t){return e.getImageUrl(t)})),this.settings.credit=s.sponsor.credit)},initCustomData:function(t){this.data=Object.assign({},t),this.data.prizeDescriptionHeadline&&this.data.prizeDescriptionHeadline.length||(this.data.prizeDescriptionHeadline=this.defaultData.prizeDescriptionHeadline),this.data.prizeDescriptionText&&this.data.prizeDescriptionText.length||(this.data.prizeDescriptionText=this.defaultData.prizeDescriptionText),this.data.quests&&this.data.quests.length||(this.data.quests=this.defaultData.quests),this.data.claimButtonLink&&this.data.claimButtonLink.length||(this.data.claimButtonLink=this.defaultData.claimButtonLink),this.data.backgroundImage&&this.data.backgroundImage.length>0&&(this.data.backgroundImage=this.getImageUrl(this.data.backgroundImage[0])),this.data.prizeImage&&0!==this.data.prizeImage.length?this.data.prizeImage=this.getImageUrl(this.data.prizeImage[0]):this.data.prizeImage=this.defaultData.prizeImage;for(var e=0;e<this.data.quests.length;e++)this.data.quests[e].id=e,this.data.quests[e].answers=this.data.quests[e].answers.split(",").map((function(t){return t.trim()})),this.data.quests[e].image=this.getImageUrl(this.data.quests[e].image[0]);console.log(this.data)},getImageUrl:function(t){return t?this.$SDK.connection.getContentCdnLocation(t):""},initUserState:function(){var t=this;return this.$SDK.connection.getMomentUserState().then((function(e){e.forEach((function(e,s){var i=t.data.quests[s];i&&i.name===e.name&&(i.answer=e.answer,i.correct=!0,t.$set(t.data.quests,s,i))})),console.log(t.data)}))["catch"]((function(t){console.error(t)}))},markQuestAsCorrect:function(t,e){this.data.quests[t].correct=!0,this.data.quests[t].answer=e,this.checkWin()},checkWin:function(){var t=this;this.data&&this.data.quests&&0===this.data.quests.filter((function(t){return!0!==t.correct})).length&&(this.won=!0,window.setTimeout((function(){t.$refs.introBox.showPrize()}),2e3));var e=this.data.quests.filter((function(t){return!0===t.correct})).map((function(t){return{id:t.id,name:t.name,answer:t.answer}}));this.$SDK.connection.setMomentUserState(e)["catch"]((function(t){console.error(t)}))}}},V=k,D=(s("5c0b"),Object(p["a"])(V,a,n,!1,null,null,null)),$=D.exports,H=s("a925");i["a"].use(H["a"]);var O={},I=new H["a"]({locale:"en",fallbackLocale:"en",messages:O}),S=I;i["a"].config.productionTip=!1,window.Stagecast&&(i["a"].prototype.$SDK=new window.Stagecast,new i["a"]({i18n:S,render:function(t){return t($)}}).$mount("#app"))},"5c0b":function(t,e,s){"use strict";var i=s("9c0c"),a=s.n(i);a.a},"6e78":function(t,e,s){},"9c0c":function(t,e,s){},b07d:function(t,e,s){},c804:function(t,e,s){"use strict";var i=s("2a73"),a=s.n(i);a.a},f1f5:function(t,e,s){"use strict";var i=s("6e78"),a=s.n(i);a.a},febe:function(t,e,s){"use strict";var i=s("b07d"),a=s.n(i);a.a}});
//# sourceMappingURL=app.7a6708de.js.map